<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta property="qc:admins" content="131276424116767140526177" />
</head>
<body>
<script type="text/javascript" src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" data-appid="100352117" data-redirecturi="http://biqing.github.io/index.html" charset="utf-8" data-callback="true"></script>
	<h1>Hello, everyone!</h1>
	<span id="qqLoginBtn"></span>
	<span id="qqLoginBtn1"></span>
	<p>欢迎围观</p>
	<script type="text/javascript">
		QC.Login({
			btnId:"qqLoginBtn"    //插入按钮的节点id
		});
		// var cbLoginFun = function(oInfo, oOpts){
		//    alert(oInfo.nickname);  //昵称
		//    alert(oOpts.btnId);  //btnId
		// };
		 
		// QC.Login({btnId:"qqLoginBtn"}, cbLoginFun);
	</script>
	<script type="text/javascript">

	//用JS SDK调用OpenAPI
	var get_user_info = function(){
		//从页面收集OpenAPI必要的参数。get_user_info不需要输入参数，因此paras中没有参数
		var paras1 = {};
		QC.api("get_user_info", paras1, "json", "post")
			//指定接口访问成功的接收函数，s为成功返回Response对象
			.success(function(s){
				//成功回调，通过s.data获取OpenAPI的返回数据
				console.log(s);
				alert("获取用户信息成功！当前用户昵称为："+s.data.nickname);
			})
			//指定接口访问失败的接收函数，f为失败返回Response对象
			.error(function(f){
				//失败回调
				alert("获取用户信息失败！");
			})
			//指定接口完成请求后的接收函数，c为完成请求返回Response对象
			.complete(function(c){
				//完成请求回调
				alert("获取用户信息完成！");
			});
		};

	var add_t =function(){
		var paras2 = {content : "#QQ互联JSSDK测试#曾经沧海难为水，除却巫山不是云。"};

		QC.api("add_t", paras2)
			.success(function(s){//成功回调
				alert("发送微博成功，请到腾讯微博内查看！");
			})
			.error(function(f){//失败回调
				alert("发送微博失败！");
			})
			.complete(function(c){//完成请求回调
				alert("发送微博完成！");
			});
	};

	var showPopup = function(){
		QC.Login.showPopup({
		   appId:"100352117",
		   redirectURI:"http://biqing.github.io/qc_back.html"
		});
	};

	var signOut = function(){
		QC.Login.signOut();
	};

	var check = function(){
		alert(QC.Login.check());
	};

	var getMe = function(){
		QC.Login.getMe(function(openId, accessToken){
			alert(openId);
			alert(accessToken);
		});
	};

	var getInfo = function(){
		QC.api("get_info", {format:'json'})
			.success(function(s){//成功回调
				console.log(s);
			})
			.error(function(f){//失败回调
				console.log(f);
			});
	};


	</script>
	<a href="javascript:get_user_info();">get_user_info</a><br/>
	<a href="javascript:add_t();">add_t</a><br/>
	<a href="javascript:showPopup();">打开QQ登录弹窗</a><br/>
	<a href="javascript:signOut();">注销当前登录用户</a><br/>
	<a href="javascript:check();">检测当前登录状态</a><br/>
	<a href="javascript:getMe();">获取当前登录用户的Access Token以及OpenID</a><br/>
	<a href="javascript:getInfo();">获取当前登录用户的微博信息</a><br/>

	<script type="text/javascript">
		//调用QC.Login方法，指定btnId参数将按钮绑定在容器节点中
		// QC.Login({
		// 	//btnId：插入按钮的节点id，必选
		// 	btnId:"qqLoginBtn",    
		// 	//用户需要确认的scope授权项，可选，默认all
		// 	scope:"all",
		// 	//按钮尺寸，可用值[A_XL| A_L| A_M| A_S|  B_M| B_S| C_S]，可选，默认B_S
		// 	size: "A_XL"
		// 	}, function(reqData, opts){//登录成功
		// 		//根据返回数据，更换按钮显示状态方法
		// 		var dom = document.getElementById(opts['btnId']),
		// 		_logoutTemplate=[
		// 		    //头像
		// 		    '<span><img src="{figureurl}" class="{size_key}"/></span>',
		// 		    //昵称
		// 		    '<span>{nickname}</span>',
		// 		    //退出
		// 		    '<span><a href="javascript:QC.Login.signOut();">退出</a></span>'    
		// 		].join("");
		// 		dom && (dom.innerHTML = QC.String.format(_logoutTemplate, {
		// 		   nickname : QC.String.escHTML(reqData.nickname),
		// 		   figureurl : reqData.figureurl
		// 		}));
		// 	}, function(opts){//注销成功
		// 		alert('QQ登录 注销成功');
		// 	}
		// );
	</script>

	<a version="1.0" class="qzOpenerDiv" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_likeurl" target="_blank">赞</a><script  src="http://qzonestyle.gtimg.cn/qzone/app/qzlike/qzopensl.js#jsdate=20110603&style=3&showcount=1&width=130&height=30" charset="utf-8" defer="defer" ></script>
</body>
</html>