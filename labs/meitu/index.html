<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <style type="text/css">
        html, body { height:100%;}
        body { margin:0; }
    </style>
    <script src="http://open.web.meitu.com/sources/xiuxiu.js" type="text/javascript"></script>
</head>
<body>
    <div id="flashEditorOut">
        <div id="altContent2">
            <h1>美图秀秀2</h1>
        </div>
    </div>
    <script type="text/javascript">
    
        xiuxiu.embedSWF("altContent2", 1, 700, 500, "lite");
        
        xiuxiu.onInit = function (id)
        {
            xiuxiu.setUploadURL("http://web.upload.meitu.com/image_upload.php");
            xiuxiu.setUploadType(2);
            xiuxiu.setUploadDataFieldName("upload_file");
        }
        
        xiuxiu.onBeforeUpload = function (data, id)
        {
            var size = data.size;
            if(size > 2 * 1024 * 1024)
            {
                alert("图片不能超过2M");
                return false;
            }
            return true;
        }

        xiuxiu.onUploadResponse = function (data)
        {
            alert("上传响应" + data);
            //clearFlash();
        }
        
        xiuxiu.onDebug = function (data)
        {
            alert("错误响应" + data);
        }
        
        xiuxiu.onClose = function (id)
        {
            //alert(id + "关闭");
            clearFlash();
        }
        
        //清除flash
        function clearFlash()
        {
            document.getElementById("flashEditorOut").innerHTML='<div id="flashEditorContent"><p><a href="http://www.adobe.com/go/getflashplayer"><img alt="Get Adobe Flash player" src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif"></a></p></div>';
        }

    </script>
</body>
</html>